<a routerLink="/"
  ><span class="material-symbols-outlined"> arrow_left_alt </span>
</a>
<div class="cart-details">
  <div class="cart-card" *ngFor="let item of cartData">
    <div class="cart-book">
      <div class="book-img">
        <img src="{{ item.thumbnailUrl }}" alt="{{ item.title }}" />
      </div>
      <div class="book-details">
        <h3>{{ item.title }}</h3>
        <p>
          by <i>{{ item.authors[0] }}</i>
        </p>
        <!-- <h2>&#8377;{{ item.price }}</h2> -->

        <div class="text-left" *ngIf="item.discount; else noDiscount">
          <del>
            <span class="text-left m-0 text-info">₹{{ item.price }} </span>
          </del>
          <span class="text-left text-secondary">
            {{ item.discount }}% off</span
          >
          <p class="text-left m-0 text-success">
            ₹{{ calculateDiscount(item.price, item.discount) }}
          </p>
        </div>
        <ng-template #noDiscount class="text-center">
          <p class="text-left m-0 text-success">₹{{ item.price }}</p>
        </ng-template>



        <div class="book-qty">
          <h4>Quantity:</h4>
          <button (click)="onDecrement(item)">-</button>
          <p>{{ item.quantity }}</p>
          <button (click)="onIncrement(item)">+</button>
        </div>
      </div>
    </div>
    <h3 *ngIf="item.discount; else discountdata" class="text-secondary text-center mb-0">{{calculateDiscount(item.price, item.discount)*item.quantity|currency:"INR"}}</h3>
    <ng-template #discountdata>
      <h3 class="text-secondary text-center mb-0">{{item.price*item.quantity|currency:"INR"}}</h3>
    </ng-template>
    <button class="btn remove-btn" (click)="onRemoveHandeller(item.id)">
      Remove
    </button>
  </div>
  <div *ngIf="cartData.length > 0; else noitems" class="price-card">
    <div class="get-font">
      Total price:
      <hr>
      <h1 class="text-danger">{{ totalPrice | currency : "INR" }}</h1>
    </div>
    <a routerLink="/buy" class="buynow-btn">Buy Now</a>
  </div>
  <ng-template #noitems>
    <div class="background flex-center">
      <div appStyles>
        <h2>Your Shopping Cart is empty.</h2>
        <h2>
          <a href="/" class="error-msg">Continue Shopping</a> and select 'Add to
          Cart' to move items into your cart.
        </h2>
      </div>
    </div>
  </ng-template>
</div>
